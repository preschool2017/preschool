!function(e){e.getDevicePixelRatio=function(){var t=1;return void 0!==e.screen.systemXDPI&&void 0!==e.screen.logicalXDPI&&e.screen.systemXDPI>e.screen.logicalXDPI?t=e.screen.systemXDPI/e.screen.logicalXDPI:void 0!==e.devicePixelRatio&&(t=e.devicePixelRatio),t}}(this),function(e){"use strict";window.ngg_galleria={gallery_selector:".ngg-galleria-parent",gallery_target_selector:".ngg-galleria",start:function(t){var i=this,n=this.gallery_selector+"."+t;e(n).each(function(n,a){e(document).on("ready",function(){i.create(a,t)})})},get_gallery_from_id:function(t){var i=null;return"undefined"==typeof window.galleries?i:(e.each(window.galleries,function(e,n){n.ID==t&&(i=n)}),e.extend({},i))},get_setting:function(e,t,i){"object"!=typeof e&&(e=this.get_gallery_from_id(e));var n=e.display_settings,a="";return a="undefined"!=typeof n&&"undefined"!=typeof n[t]&&""!==n[t]?n[t]:i,1==a&&(a=!0),0==a&&(a=!1),"1"==a&&(a=!0),"0"==a&&(a=!1),a},create:function(t,i){var n=e(t).data("id"),a=e.extend({},this.get_gallery_from_id(n)),o=e(t).find(this.gallery_target_selector).first();this.configure_galleria(t,o,a);var s=a.images_list;window.getDevicePixelRatio()>1&&e(s).each(function(e,t){t.use_hdpi&&(t.image=t.srcsets.hdpi)});var r=this.get_setting(a,"border_size","0");"boolean"==typeof r&&(r&&(r=1),r||(r=0)),r=parseInt(r);var g={theme:i,responsive:!0,debug:!0,maxScaleRatio:1,dataSource:s,showInfo:this.get_setting(a,"show_captions",!1),imagePan:this.get_setting(a,"image_pan",!1),imageCrop:this.get_setting(a,"image_crop",!1),transition:this.get_setting(a,"transition","fade"),imageMargin:r,transitionSpeed:1e3*this.get_setting(a,"transition_speed",1),_nggGalleryID:n,_nggGalleryParent:t,_nggCaptionClass:this.get_setting(a,"caption_class","caption_overlay_bottom"),_nggCaptionHeight:this.get_setting(a,"caption_height",52),_nggShowPlaybackControls:this.get_setting(a,"show_playback_controls",!0),_nggImageCrop:this.get_setting(a,"image_crop",!1),_nggBorderSize:r,_nggBorderColor:this.get_setting(a,"border_color","#ffffff"),_nggSlideshowSpeed:1e3*this.get_setting(a,"slideshow_speed",5)};Galleria.run(o,g)},configure_galleria:function(t,i,n){t=e(t);var a=this,o=e.extend({},n.display_settings);for(var s in o){var r=Number(o[s]);isNaN(r)||(o[s]=r),(0==r||1==r&&!s.match(/width|size|height|dimensions|percent/))&&(o[s]=!!r)}this.adjust_size(t,i,o),e(window).on("resize orientationchange onfullscreenchange onmozfullscreenchange onwebkitfullscreenchange",function(){a.adjust_size(t,i,o)})},adjust_size:function(e,t,i){var n=e.width(),a=i.width;"%"==i.width_unit&&(a=Math.round(n*(i.width/100))),n>0&&n<a&&(a=n),t.width(a);var o=e.width()/e.height();"undefined"!=typeof i.aspect_ratio&&0!=i.aspect_ratio&&(o=i.aspect_ratio,o=parseFloat(o)?parseFloat(o):i.aspect_ratio_computed&&parseFloat(i.aspect_ratio_computed)?i.aspect_ratio_computed:1.5);var s=(a-20)/o;if("undefined"!=typeof i.thumbnail_height){var r=i.thumbnail_height;"string"==typeof r&&(r=parseFloat(r)),s+=r}s+=20;var g=i.caption_class;"caption_above_stage"!=g&&"caption_below_stage"!=g||(s+=52),e.height(s)}},e(window).on("ngg.galleria.themeadded",function(e,t){ngg_galleria.start(t)})}(jQuery);