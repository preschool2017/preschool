!function(e){function r(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,r){for(var t=[];r>0;t[--r]=e);return t.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};n.format=function(e,s){var i,a,o,u,c,f,l,p=1,h=e.length,d="",g=[];for(a=0;a<h;a++)if(d=r(e[a]),"string"===d)g.push(e[a]);else if("array"===d){if(u=e[a],u[2])for(i=s[p],o=0;o<u[2].length;o++){if(!i.hasOwnProperty(u[2][o]))throw n('[sprintf] property "%s" does not exist',u[2][o]);i=i[u[2][o]]}else i=u[1]?s[u[1]]:s[p++];if(/[^s]/.test(u[8])&&"number"!=r(i))throw n("[sprintf] expecting number but found %s",r(i));switch(u[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=u[7]?i.toExponential(u[7]):i.toExponential();break;case"f":i=u[7]?parseFloat(i).toFixed(u[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&u[7]?i.substring(0,u[7]):i;break;case"u":i>>>=0;break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(u[8])&&u[3]&&i>=0?"+"+i:i,f=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",l=u[6]-String(i).length,c=u[6]?t(f,l):"",g.push(u[5]?i+c:c+i)}return g.join("")},n.cache={},n.parse=function(e){for(var r=e,t=[],n=[],s=0;r;){if(null!==(t=/^[^\x25]+/.exec(r)))n.push(t[0]);else if(null!==(t=/^\x25{2}/.exec(r)))n.push("%");else{if(null===(t=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)))throw"[sprintf] huh?";if(t[2]){s|=1;var i=[],a=t[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(i.push(o[1]);""!==(a=a.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(a)))i.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";i.push(o[1])}t[2]=i}else s|=2;if(3===s)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(t)}r=r.substring(t[0].length)}return n};var s=function(e,r,t){return t=r.slice(0),t.splice(0,0,e),n.apply(null,t)};e.sprintf=n,e.vsprintf=s}("undefined"!=typeof exports?exports:window);