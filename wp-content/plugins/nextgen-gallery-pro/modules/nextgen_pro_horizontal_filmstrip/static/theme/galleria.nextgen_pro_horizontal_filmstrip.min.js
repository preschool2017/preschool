!function(t){Galleria.addTheme({name:"nextgen_pro_horizontal_filmstrip",author:"Imagely",version:2,defaults:{carousel:!0,thumbnails:!0,autoplay:!0,showInfo:!1,fullscreenDoubleTap:!1,trueFullscreen:!1},init:function(i){Galleria.requires(1.41,"This version of Classic theme requires Galleria 1.4.1 or later");var e=this;i.showInfo=!!(i.showInfo&&i._nggCaptionClass.length>0),i._nggCaptionPadding=parseInt(window.ngg_galleria.get_setting(i._nggGalleryID,"caption_padding","5")),i._nggOverrideThumbnails="0"!=window.ngg_galleria.get_setting(i._nggGalleryID,"override_thumbnail_settings","0");var a=function(t){if(i._nggBorderSize>0&&i.imageCrop!==!0){var e=parseInt(t.css("top"))-i._nggBorderSize,a=parseInt(t.css("left"))-i._nggBorderSize;e<0&&(e=0),a<0&&(a=0),t.css("top",e+"px"),t.css("left",a+"px")}};if(i._nggOverrideThumbnails)i._nggThumbnailWidth=parseInt(window.ngg_galleria.get_setting(i._nggGalleryID,"thumbnail_width","120")),i._nggThumbnailHeight=parseInt(window.ngg_galleria.get_setting(i._nggGalleryID,"thumbnail_height","90")),this.$("thumbnails").find(".galleria-image").each(function(e,a){t(a).css({width:i._nggThumbnailWidth+"px",height:i._nggThumbnailHeight+"px"}).find("img").css({"max-width":i._nggThumbnailWidth,width:i._nggThumbnailWidth+"px",height:i._nggThumbnailHeight+"px"})});else{i._nggThumbnailHeight=1;for(var n=0;n<=this.getDataLength()-1;n++){var s=this.getData(n);s.thumb_dimensions.height>i._nggThumbnailHeight&&(i._nggThumbnailHeight=s.thumb_dimensions.height)}this.$("thumbnails").find(".galleria-image").each(function(a,n){var s=e._data[a].thumb_dimensions.height;t(n).css({width:e._data[a].thumb_dimensions.width+"px",height:e._data[a].thumb_dimensions.height+"px"}).find("img").css({width:e._data[a].thumb_dimensions.width+"px",height:e._data[a].thumb_dimensions.height+"px"}),s<i._nggThumbnailHeight&&t(n).css("top",(i._nggThumbnailHeight-s)/2)})}if(i._nggBorderSize>0&&i.imageCrop!==!0&&t("<style type='text/css'>#displayed_gallery_"+i._nggGalleryID+" .galleria-stage .galleria-image img {border: solid "+parseInt(i._nggBorderSize)+"px "+i._nggBorderColor+" } </style>").appendTo("head"),this.$("info").css("max-height",i._nggCaptionHeight+"px"),this.$("thumbnails-container").css("height",i._nggThumbnailHeight+"px"),this.$("stage").css("bottom",i._nggThumbnailHeight+(parseInt(i._nggBorderSize)>0?parseInt(i._nggBorderSize):0)+2+4+"px"),this.$("thumbnails-container").height(i._nggThumbnailHeight),this.$("stage").css({bottom:t(i._nggGalleryParent).offset()+t(i._nggGalleryParent).outerHeight()-this.$("thumbnails-container").offset().top+6}),this.rescale(),Galleria.TOUCH||(this.addIdleState(this.get("image-nav-left"),{left:-50}),this.addIdleState(this.get("image-nav-right"),{right:-50}),this.addIdleState(this.get("counter"),{opacity:0})),i.showInfo&&i._nggCaptionClass.length>0){switch(this.$("info").show(),this.$("container").addClass(i._nggCaptionClass),this.$("info").hover(function(){var i=t(this),a=e.$("info-text"),n=i.outerHeight()-a.outerHeight();n<0&&i.stop().animate({scrollTop:-n},-n/17*450)},function(){var i=t(this),a=e.$("info-text"),n=i.outerHeight()-a.outerHeight();n<0&&i.stop().animate({scrollTop:0},"fast")}),i._nggCaptionClass){case"caption_above_stage":this.$("stage").css({top:parseInt(i._nggCaptionHeight)+i.imageMargin});break;case"caption_below_stage":this.$("thumbnails-container").css("bottom",parseInt(i._nggCaptionHeight)+parseInt(i._nggCaptionPadding)+"px");var g=parseInt(i._nggCaptionHeight)+2*i._nggCaptionPadding+this.$("thumbnails-container").height()+i.imageMargin+6;this.$("stage").css({bottom:g});break;case"caption_overlay_bottom":this.$("info").css("bottom",parseInt(this.$("stage").css("bottom")))}this.rescale()}if(t([this.$("thumb-nav-left"),this.$("thumb-nav-right")]).css({display:"none"}).hover(function(){t(this).hasClass("disabled")||t(this).stop().animate({opacity:1},"fast")},function(){t(this).hasClass("disabled")||t(this).stop().animate({opacity:.8},"fast")}),this.$("thumbnails-container").hover(this.proxy(function(){var i=[this.get("thumb-nav-left"),this.get("thumb-nav-right")];t(i).css({display:"block"}),t(i).stop().animate({opacity:.8})}),this.proxy(function(){var i=[this.get("thumb-nav-left"),this.get("thumb-nav-right")];t(i).stop().animate({opacity:0},function(){t(this).css({display:"none"})})})),i._nggSlideshowSpeed&&this.setPlaytime(i._nggSlideshowSpeed),i._nggShowPlaybackControls){var h=t("<div/>").addClass("galleria-playback-button");this._playing?h.removeClass("play").addClass("pause"):h.removeClass("pause").addClass("play"),t(this._dom.stage).append(h);var o=t("<a/>").hover(function(){t(this).parent().css("opacity",.9)},function(){t(this).parent().css("opacity",.7)}).click(this.proxy(function(i){var e=t(i.target).parent();this._playing?(this.pause(),e.removeClass("pause").addClass("play")):(this.play().next(),e.removeClass("play").addClass("pause"))}));h.append(o),h.hover(function(){t(this).css("opacity",.7)},function(){t(this).animate({opacity:0})})}this.bind("rescale",this.proxy(function(i){var n=t(e.getActiveImage());setTimeout(function(){a(n)},30)})),this.bind("loadfinish",this.proxy(function(n){var s=t(n.imageTarget);a(s),t(i._nggGalleryParent).siblings("div.ngg-trigger-buttons").each(function(){t(this).width(e.$("stage").width()),t(this).css("margin","0 auto"),t(this).find("i").each(function(){t(this).data("nplmodal-image-id",e.getData(e.getIndex()).image_id)})}),t(n.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)})),this.bind("thumbnail",this.proxy(function(i){Galleria.TOUCH?t(i.thumbTarget).css("opacity",this.getIndex()?1:.6):(t(i.thumbTarget).css("opacity",.6).parent().hover(function(){t(this).not(".active").children().stop().fadeTo(100,1)},function(){t(this).not(".active").children().stop().fadeTo(400,.6)}),i.index===this.getIndex()&&t(i.thumbTarget).css("opacity",1))})),window.ngg_galleria.get_setting(i._nggGalleryID,"protect_images",!1)&&(this.addElement("image-protection"),document.oncontextmenu=function(t){t=t||window.event,t.preventDefault()},this.prependChild("images","image-protection"),this.$("thumbnails").find(".galleria-image").bind("dragstart",function(t){t.preventDefault()}))}}),t(window).trigger("ngg.galleria.themeadded",["nextgen_pro_horizontal_filmstrip"])}(jQuery);